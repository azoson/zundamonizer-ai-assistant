---
marp: true
---

<div style="text-align: center;">
# WebAssembly（Wasm）入門
</div>

<!-- ずんだもん(happy): 今日のプレゼンテーションはWebAssemblyの基礎について学ぶのだ！ -->
<!-- 春日部つむぎ(happy): とても楽しみだね、ずんだもん。WebAssemblyがどんなものか詳しく教えてね。 -->

---

## WebAssemblyとは

WebAssembly（略称：Wasm）は、モダンウェブブラウザで実行可能な新しいタイプのコードです。低レベルのアセンブリ風言語であり、コンパクトなバイナリフォーマットでコンパイルされ、ネイティブに近いパフォーマンスで実行されます。C、C++、Rustなどの言語からコンパイルすることができます。

<!-- ずんだもん(neutral): WebAssemblyは、ブラウザで高性能なアプリケーションを動かすための技術なのだ！ -->
<!-- 春日部つむぎ(thinking): つまり、普通のJavaScriptよりも速いのかな？ -->
<!-- ずんだもん(happy): そうなのだ！ネイティブに近いパフォーマンスを実現できるんだ。 -->

---

## Wasmの主な特徴

1. **効率性**: バイナリフォーマットにより、ファイルサイズが小さく、解析も高速
2. **高速実行**: 最適化された仮想マシンで実行され、ネイティブコードに近いパフォーマンス
3. **安全性**: メモリ保護、サンドボックス化された実行環境を提供
4. **オープン標準**: W3Cにより標準化された仮想命令セットアーキテクチャ
5. **言語非依存**: 多くのプログラミング言語からコンパイル可能

<!-- ずんだもん(happy): Wasmの特徴を簡単にまとめたのだ！ -->
<!-- 春日部つむぎ(thinking): 効率性と安全性が特に気になるね。 -->
<!-- ずんだもん(neutral): うん、効率性はバイナリ形式だから、サイズが小さくて読み込みが速いのだ。安全性はサンドボックスで守られているから安心なのだ。 -->

---

## Wasmのユースケース

* 計算負荷の高いウェブアプリケーション（画像/動画編集、3Dレンダリング）
* ゲーム開発（特に既存のC/C++コードベースの移植）
* シミュレーションや科学計算
* 既存のデスクトップアプリケーションのウェブ移植
* IoTデバイスやエッジコンピューティング環境での実行

<!-- ずんだもん(happy): こんなにたくさんの場所でWasmが活躍しているのだ！ -->
<!-- 春日部つむぎ(happy): ゲーム開発や科学計算にも使えるのは素晴らしいね。 -->
<!-- ずんだもん(neutral): そうなのだ。どんな環境でも高いパフォーマンスを発揮できるんだ。 -->

---

## Wasmの基本的なワークフロー

```
[C/C++/Rust等のソースコード] → [Wasmコンパイラ] → [.wasmバイナリ] → [ブラウザでの実行]
```

<!-- ずんだもん(neutral): これがWasmを使う基本的な流れなのだ！ -->
<!-- 春日部つむぎ(thinking): ソースコードからバイナリに変換してブラウザで実行するんだね。 -->
<!-- ずんだもん(happy): そうなのだ！コンパイルさえすれば、どのブラウザでも実行できるのだ。 -->

---

## Emscriptenによるコンパイル例

C言語からWebAssemblyへのコンパイル例：

```c
// hello.c
#include <stdio.h>

int main() {
  printf("Hello, WebAssembly!\n");
  return 0;
}
```

コンパイルコマンド：

```bash
emcc hello.c -o hello.html
```

<!-- ずんだもん(neutral): これがC言語をWasmにコンパイルする具体的な例なのだ！ -->
<!-- 春日部つむぎ(thinking): Emscriptenを使うんだね。コンパイルがとても簡単そうだよ。 -->
<!-- ずんだもん(happy): そうなのだ！これで簡単にWasmを試せるのだ。 -->

---

## JavaScriptからのWasm呼び出し

```javascript
// WebAssemblyモジュールを読み込む
WebAssembly.instantiateStreaming(fetch('module.wasm'))
  .then(obj => {
    // エクスポートされた関数を呼び出す
    const result = obj.instance.exports.add(1, 2);
    console.log(result); // 3
  });
```

<!-- ずんだもん(neutral): JavaScriptからWasmの関数を呼び出す例なのだ！ -->
<!-- 春日部つむぎ(thinking): JavaScriptと連携して使えるのは便利だね。 -->
<!-- ずんだもん(happy): そうなのだ！JavaScriptと組み合わせて使うことで、より強力なアプリケーションが作れるんだ。 -->

---

## WASI（WebAssembly System Interface）

WebAssemblyはブラウザだけでなく、WASI仕様によりサーバーサイドやエッジでも利用可能になりつつあります。WASIは、ファイルシステムアクセスやネットワーク機能などのシステムインターフェースを標準化します。

<!-- ずんだもん(neutral): WASIを使えば、ブラウザ以外でもWasmが使えるのだ！ -->
<!-- 春日部つむぎ(happy): サーバーサイドやエッジでも活用できるのは素晴らしいね。 -->
<!-- ずんだもん(happy): そうなのだ！Wasmの可能性が広がるのだ。 -->

---

## まとめ

WebAssemblyは、ウェブプラットフォームに高性能で安全なコード実行環境をもたらし、様々な言語で書かれたコードをブラウザで実行可能にします。今後、ブラウザ内だけでなく、サーバーサイドや組み込みデバイスなど多様な環境でますます重要な役割を果たすことが期待されています。

<!-- ずんだもん(happy): これでWebAssemblyの基礎はバッチリなのだ！ -->
<!-- 春日部つむぎ(happy): とてもわかりやすかったよ、ずんだもん。ありがとう！ -->
<!-- ずんだもん(happy): どういたしましてなのだ！これからも一緒に学んでいこうね。 -->
```